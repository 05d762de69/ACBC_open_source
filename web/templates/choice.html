{% extends "base.html" %}

{% block title %}Choice Task — ACBC Survey{% endblock %}

{% block progress %}
<div class="progress-bar">
  <div class="progress-fill" style="width: {{ progress }}%"></div>
</div>
<div class="stage-label">Choice Task — Round {{ question.round_number }}</div>
{% endblock %}

{% block content %}
<div class="question-panel">
  <h1>Which option do you prefer?</h1>
  <p class="hint">Select the option you like best.</p>

  <form action="/answer" method="post">
    <div class="scenario-grid scenario-choice">
      {% for scenario in question.scenarios %}
      <label class="scenario-card scenario-selectable">
        <input type="radio" name="chosen" value="{{ loop.index0 }}" required>
        <div class="card-inner">
          <h3>Option {{ loop.index }}</h3>
          <table class="scenario-table">
            {% for attr_name in attr_names %}
            <tr>
              <td class="attr-name">{{ attr_name }}</td>
              <td class="attr-value">{{ scenario.levels[attr_name] }}</td>
            </tr>
            {% endfor %}
          </table>
        </div>
      </label>
      {% endfor %}
    </div>
    <button type="submit" class="btn btn-primary">Submit Choice</button>
  </form>
</div>
{% endblock %}
